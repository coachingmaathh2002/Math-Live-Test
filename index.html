<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Math Mock Test Portal</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for Inter font and the new professional dark theme */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Deep Charcoal Gray background */
            color: #e2e8f0; /* Light Gray text for readability */
        }
        /* Dashboard section with specific dark purple background */
        .dashboard-bg {
            background-color: #4b3c96;
        }
        /* New vibrant gradient for the hero section */
        .hero-gradient-bg {
            background: linear-gradient(135deg, #4b3c96 0%, #2e245a 100%);
        }
        .login-card-bg {
            background-color: #2d3748; /* Darker Gray for the login card */
        }
        /* Add a subtle animation for the hero heading */
        .wavy {
            display: inline-block;
            animation: wavy 1.5s ease-in-out infinite;
        }
        @keyframes wavy {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
        }
        /* Custom alert box styling */
        .custom-alert-box {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 1rem 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .custom-alert-box.show {
            opacity: 1;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header (Math Mock Test Dashboard) with Dark Purple Background -->
    <header class="hero-gradient-bg p-8 text-center shadow-2xl rounded-b-3xl">
        <h1 class="text-4xl sm:text-5xl font-extrabold text-white mb-2 drop-shadow-lg">
            <span role="img" aria-label="rocket" class="inline-block align-middle mr-2 text-5xl wavy">🚀</span> Your Gateway to Success
        </h1>
        <p class="text-lg sm:text-xl text-gray-300 font-medium max-w-3xl mx-auto">
            Master your exams with our comprehensive mock tests. Let's start practicing!
        </p>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8 space-y-8">

        <!-- Main Dashboard Section (Visible by default) -->
        <div id="mainDashboard" class="block">
            <div class="max-w-4xl mx-auto p-4 md:p-8 dashboard-bg rounded-xl shadow-lg">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Cards for IIT JAM, WBJEE, etc. -->
                    <a href="test-iit-jam.html" class="block p-6 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-center">
                        <span role="img" aria-label="indian-flag" class="text-4xl mb-2 inline-block">🇮🇳</span>
                        <h3 class="text-xl font-bold text-gray-900">IIT JAM</h3>
                        <p class="text-gray-500 text-sm">10 tests</p>
                    </a>
                    <a href="test-wbjee.html" class="block p-6 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-center">
                        <span role="img" aria-label="wb-logo" class="text-4xl mb-2 inline-block">🏛️</span>
                        <h3 class="text-xl font-bold text-gray-900">WBJEE</h3>
                        <p class="text-gray-500 text-sm">10 tests</p>
                    </a>
                    <a href="test-csir-net.html" class="block p-6 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-center">
                        <span role="img" aria-label="atom" class="text-4xl mb-2 inline-block">⚛️</span>
                        <h3 class="text-xl font-bold text-gray-900">CSIR NET</h3>
                        <p class="text-gray-500 text-sm">10 tests</p>
                    </a>
                    <a href="test-cuet-pg.html" class="block p-6 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-center">
                        <span role="img" aria-label="graduation-cap" class="text-4xl mb-2 inline-block">🎓</span>
                        <h3 class="text-xl font-bold text-gray-900">CUET PG</h3>
                        <p class="text-gray-500 text-sm">10 tests</p>
                    </a>
                    <a href="test-up-lt-grade.html" class="block p-6 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-center">
                        <span role="img" aria-label="document" class="text-4xl mb-2 inline-block">📝</span>
                        <h3 class="text-xl font-bold text-gray-900">UP LT Grade</h3>
                        <p class="text-gray-500 text-sm">10 tests</p>
                    </a>
                    <a href="test-bpsc.html" class="block p-6 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-center">
                        <span role="img" aria-label="classical-building" class="text-4xl mb-2 inline-block">🏛️</span>
                        <h3 class="text-xl font-bold text-gray-900">BPSC</h3>
                        <p class="text-gray-500 text-sm">10 tests</p>
                    </a>
                    <a href="testfree.html" class="block p-6 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-center">
                        <span role="img" aria-label="classical-building" class="text-4xl mb-2 inline-block">🏛️</span>
                        <h3 class="text-xl font-bold text-gray-900">Free Mock Test</h3>
                        <p class="text-gray-500 text-sm">10 tests</p>
                    </a>
                    <!-- WB SLST Card - Now calls the new showSlstSection function -->
                    <button id="slstButton" class="block p-6 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 text-center focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <span role="img" aria-label="books" class="text-4xl mb-2 inline-block">📚</span>
                        <h3 class="text-xl font-bold text-gray-900">WB SLST</h3>
                        <p class="text-gray-500 text-sm">20 tests (Login Required)</p>
                    </button>
                </div>
            </div>
        </div>

        <!-- WB SLST Section (Hidden by default) -->
        <div id="slstSection" class="hidden">
            <!-- NEW: Email/Password Login Section -->
            <div id="slstLogin" class="max-w-md mx-auto login-card-bg p-8 md:p-10 rounded-xl shadow-lg border border-gray-700 text-white">
                <h2 class="text-3xl font-bold text-white mb-4 text-center">
                    <span role="img" aria-label="lock">🔐</span> WB SLST Login
                </h2>
                <p class="text-md text-gray-300 mb-8 text-center">
                    This section is for registered students only.
                </p>
                <form id="slstLoginForm" class="space-y-6">
                    <div>
                        <label for="slstEmail" class="block mb-2 text-sm font-medium text-gray-300">Email</label>
                        <input type="email" id="slstEmail" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition duration-300" placeholder="student@example.com" required>
                    </div>
                    <div>
                        <label for="slstPassword" class="block mb-2 text-sm font-medium text-gray-300">Password</label>
                        <input type="password" id="slstPassword" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition duration-300" placeholder="••••••••" required>
                    </div>
                    <p id="loginErrorMessage" class="text-red-500 text-center text-sm hidden"></p>
                    <button type="submit" class="w-full py-3 bg-indigo-600 text-white font-bold text-lg rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75 transition duration-300 transform hover:scale-105">
                        Login
                    </button>
                </form>
                <p class="text-center text-xs text-gray-400 mt-4">Demo credentials: Email: <strong>slst@student.com</strong> | Pass: <strong>test1234</strong></p>
                <button id="backToDashboardButton" class="w-full mt-6 py-3 text-indigo-400 font-bold rounded-lg border border-indigo-500 hover:bg-indigo-900 hover:bg-opacity-30 transition duration-300">
                    Back to Dashboard
                </button>
            </div>

            <!-- Mock Test List for SLST (Initially hidden) -->
            <div id="mockTestList" class="bg-gray-800 p-10 max-w-4xl mx-auto rounded-xl shadow-lg border border-gray-700 hidden text-white">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-semibold text-white">
                        <span role="img" aria-label="books">📚</span> WB SLST Mock Tests
                    </h2>
                    <!-- NEW: Logout Button for this section -->
                    <button id="slstLogoutButton" class="py-2 px-4 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 transition-all duration-300 shadow-sm transform hover:scale-105">
                        Logout
                    </button>
                </div>
                <div id="testListContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Test links will be dynamically loaded here by the script -->
                    <p class="text-center col-span-3 text-gray-400" id="loadingMessage">Loading tests...</p>
                </div>
            </div>
        </div>

        <!-- About Us Section -->
        <div id="aboutUsSection" class="bg-white p-10 max-w-4xl mx-auto rounded-xl shadow-lg border border-gray-100 text-gray-900">
            <h2 class="text-3xl font-semibold text-gray-900 mb-6 text-center">About Us</h2>
            <div class="prose max-w-none text-gray-700">
                <p>Welcome to **Raj Sir's Academy**, your premier destination for comprehensive math mock test preparation. We specialize in preparing students for competitive exams like **IIT JAM, WBJEE, CSIR NET, CUET PG, UP LT Grade, and BPSC**.</p>
                <p>Our platform is meticulously designed to provide you with a realistic exam environment, helping you build confidence and master the necessary skills. With a wide range of mock tests, detailed solutions, and performance analytics, we help you identify your strengths and weaknesses to optimize your study strategy.</p>
                <p>At Raj Sir's Academy, we believe in a student-centric approach. Our team of experienced educators is dedicated to guiding you through every step of your preparation journey. We are committed to making quality education accessible and empowering you to achieve your academic goals. Join us today and take the first step towards a successful future!</p>
            </div>
        </div>

        <!-- Testimonials Section -->
        <div id="testimonialsSection" class="bg-[#2d2572] p-10 max-w-4xl mx-auto rounded-xl shadow-lg border border-gray-900 text-white">
            <h2 class="text-3xl font-semibold text-white mb-6 text-center">What Our Students Say</h2>
            <div class="relative w-full overflow-hidden h-40">
                <div class="testimonial-item text-center">
                    <p class="text-lg italic text-gray-200">"The mock tests were incredibly helpful. They were challenging and perfectly simulated the real exam environment. I highly recommend Raj Sir's Academy!"</p>
                    <p class="mt-4 font-bold text-indigo-300">- Anirban B.</p>
                </div>
                <div class="testimonial-item text-center">
                    <p class="text-lg italic text-gray-200">"I improved my scores significantly after using this platform. The detailed feedback helped me focus on my weak areas and turn them into strengths."</p>
                    <p class="mt-4 font-bold text-indigo-300">- Priya S.</p>
                </div>
                <div class="testimonial-item text-center">
                    <p class="text-lg italic text-gray-200">"Raj Sir's Academy is the best resource for exam prep. The variety of tests for different exams is a game-changer!"</p>
                    <p class="mt-4 font-bold text-indigo-300">- Rohit K.</p>
                </div>
            </div>
        </div>

        <!-- Contact Details Section -->
        <div id="contactDetails" class="bg-white p-10 max-w-4xl mx-auto rounded-xl shadow-lg border border-gray-100 text-gray-900">
            <h2 class="text-3xl font-semibold text-gray-900 mb-6 text-center">Contact Us</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-center">
                <div>
                    <h3 class="text-xl font-bold mb-2">Address</h3>
                    <p class="text-gray-700">123 Main Street, Anytown, India</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-2">Email</h3>
                    <a href="mailto: coachingmaathh2002@gmail.com" class="text-blue-600 hover:underline"> coachingmaathh2002@gmail.com</a>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-2">Phone</h3>
                    <a href="tel:+9198765" class="text-blue-600 hover:underline">+91 9876</a>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-2">Follow Us</h3>
                    <div class="flex justify-center space-x-4 mt-2">
                        <a href="https://www.facebook.com/problam.charba" class="text-blue-600 hover:text-blue-800"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-blue-600 hover:text-blue-800"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-blue-600 hover:text-blue-800"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="text-center p-6 text-sm text-gray-400 border-t border-gray-700 mt-12 bg-gray-900">
        © 2025 Raj Sir's Academy | Designed for student success
    </footer>

    <!-- Success Message Box -->
    <div id="successAlert" class="custom-alert-box bg-green-500 text-white font-bold">
        Login successful! Welcome.
    </div>

    <!-- Script to handle UI logic and JSON data login -->
    <script type="module">
        // --- Global variable to hold user data ---
        let USERS_DATA = [];

        // --- Core UI Element References ---
        const mainDashboard = document.getElementById('mainDashboard');
        const slstSection = document.getElementById('slstSection');
        const slstLogin = document.getElementById('slstLogin');
        const mockTestList = document.getElementById('mockTestList');
        const loginErrorMessage = document.getElementById('loginErrorMessage');
        const testListContainer = document.getElementById('testListContainer');
        const loadingMessage = document.getElementById('loadingMessage');
        const slstButton = document.getElementById('slstButton');
        const slstLoginForm = document.getElementById('slstLoginForm');
        const backToDashboardButton = document.getElementById('backToDashboardButton');
        const slstLogoutButton = document.getElementById('slstLogoutButton');
        const successAlert = document.getElementById('successAlert');

        // A simple flag to track login status
        let isLoggedIn = false;

        // --- Core UI Navigation Functions ---

        /**
         * @function showSlstSection
         * Hides the main dashboard and shows the WB SLST section.
         * If the user is already logged in, it shows the test list directly.
         */
        function showSlstSection() {
            mainDashboard.classList.add('hidden');
            slstSection.classList.remove('hidden');

            if (isLoggedIn) {
                slstLogin.classList.add('hidden');
                mockTestList.classList.remove('hidden');
                loadMockTests();
            } else {
                slstLogin.classList.remove('hidden');
                mockTestList.classList.add('hidden');
            }
        }

        /**
         * @function showMainDashboard
         * Hides the WB SLST section and shows the main dashboard.
         */
        function showMainDashboard() {
            slstSection.classList.add('hidden');
            mainDashboard.classList.remove('hidden');
            // Reset the login state and UI when returning to the dashboard
            isLoggedIn = false;
        }

        /**
         * @function loadMockTests
         * Dynamically generates a list of hardcoded mock tests.
         */
        function loadMockTests() {
            // Remove the loading message
            loadingMessage.classList.add('hidden');
            testListContainer.innerHTML = ''; // Clear existing list

            const tests = [
                { title: 'WB SLST Test 1', url: 'slst-test-1.html' },
                { title: 'WB SLST Test 2', url: 'slst-test-2.html' },
                { title: 'WB SLST Test 3', url: 'slst-test-3.html' },
                { title: 'WB SLST Test 4', url: 'test4.html' },
                { title: 'WB SLST Test 5', url: 'slst-test-5.html' },
                { title: 'WB SLST Test 6', url: 'slst-test-6.html' },
                { title: 'WB SLST Test 7', url: 'slst-test-7.html' },
                { title: 'WB SLST Test 8', url: 'slst-test-8.html' },
                { title: 'WB SLST Test 9', url: 'slst-test-9.html' },
                { title: 'WB SLST Test 10', url: 'slst-test-10.html' },
                { title: 'WB SLST Test 11', url: 'slst-test-11.html' },
                { title: 'WB SLST Test 12', url: 'slst-test-12.html' },
                { title: 'WB SLST Test 13', url: 'slst-test-13.html' },
                { title: 'WB SLST Test 14', url: 'slst-test-14.html' },
                { title: 'WB SLST Test 15', url: 'slst-test-15.html' },
                { title: 'WB SLST Test 16', url: 'slst-test-16.html' },
                { title: 'WB SLST Test 17', url: 'slst-test-17.html' },
                { title: 'WB SLST Test 18', url: 'slst-test-18.html' },
                { title: 'WB SLST Test 19', url: 'slst-test-19.html' },
                { title: 'WB SLST Test 20', url: 'slst-test-20.html' },
            ];

            tests.forEach(test => {
                const testItem = `
                    <a href="${test.url}" class="block p-5 bg-indigo-900/50 text-indigo-200 rounded-lg text-center text-lg font-medium hover:bg-indigo-600 hover:text-white transition duration-300 shadow-sm hover:shadow-md">
                        📘 ${test.title}
                    </a>
                `;
                testListContainer.innerHTML += testItem;
            });
        }
        
        /**
         * @function showSuccessAlert
         * Displays a success message box for a short duration.
         */
        function showSuccessAlert(message) {
            successAlert.textContent = message;
            successAlert.classList.add('show');
            setTimeout(() => {
                successAlert.classList.remove('show');
            }, 3000); // Hide after 3 seconds
        }

        /**
         * @function handleSlstLogin
         * Handles the login form submission by checking credentials against the USERS_DATA array.
         */
        function handleSlstLogin(event) {
            event.preventDefault();
            const email = document.getElementById('slstEmail').value;
            const password = document.getElementById('slstPassword').value;

            // Use the fetched USERS_DATA for validation
            const user = USERS_DATA.find(u => u.email === email && u.password === password);

            if (user) {
                // Login successful
                isLoggedIn = true;
                loginErrorMessage.classList.add('hidden');
                slstLogin.classList.add('hidden');
                mockTestList.classList.remove('hidden');
                loadMockTests();
                showSuccessAlert(`Login successful! Welcome, ${email}.`);
                console.log(`Login successful for user: ${email}`);
            } else {
                // Login failed
                loginErrorMessage.textContent = "Invalid email or password. Please try again.";
                loginErrorMessage.classList.remove('hidden');
                console.error("Login failed.");
            }
        }

        /**
         * @function handleSlstLogout
         * Handles logout by resetting the state and UI.
         */
        function handleSlstLogout() {
            isLoggedIn = false;
            slstLogin.classList.remove('hidden');
            mockTestList.classList.add('hidden');
            loadingMessage.classList.remove('hidden'); // Show loading message again
            document.getElementById('slstEmail').value = '';
            document.getElementById('slstPassword').value = '';
            console.log("Logout successful.");
        }
        
        /**
         * @function attachEventListeners
         * Attaches all UI event listeners.
         * This is called after the data has been loaded.
         */
        function attachEventListeners() {
            slstButton.addEventListener('click', showSlstSection);
            backToDashboardButton.addEventListener('click', showMainDashboard);
            slstLogoutButton.addEventListener('click', handleSlstLogout);
            slstLoginForm.addEventListener('submit', handleSlstLogin);

            // Testimonial Carousel Logic (Unchanged)
            let currentTestimonialIndex = 0;
            const testimonials = document.querySelectorAll('.testimonial-item');
            const totalTestimonials = testimonials.length;
            function showTestimonial(index) {
                testimonials.forEach((testimonial, i) => {
                    testimonial.style.opacity = (i === index) ? '1' : '0';
                    testimonial.setAttribute('aria-hidden', i !== index);
                });
            }
            function nextTestimonial() {
                currentTestimonialIndex = (currentTestimonialIndex + 1) % totalTestimonials;
                showTestimonial(currentTestimonialIndex);
            }
            if (totalTestimonials > 0) {
                testimonials.forEach(t => t.classList.add('absolute', 'w-full', 'transition-opacity', 'duration-1000', 'ease-in-out'));
                showTestimonial(currentTestimonialIndex);
                setInterval(nextTestimonial, 5000); // Rotate every 5 seconds
            }
        }

        // --- Event Listeners and Initial Setup ---
        document.addEventListener('DOMContentLoaded', async () => {
            // First, fetch the data asynchronously
            try {
                const response = await fetch('students.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                USERS_DATA = await response.json();
                console.log("Successfully loaded student data from students.json");
                // Once data is loaded, attach all event listeners and UI logic
                attachEventListeners();
            } catch (error) {
                console.error('Could not load student data:', error);
                // Display an error message if the data can't be fetched
                loginErrorMessage.textContent = "Failed to load student data. Please ensure 'students.json' is in the same directory.";
                loginErrorMessage.classList.remove('hidden');
            }
        });
    </script>
</body>
</html>
